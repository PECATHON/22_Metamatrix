import React, { useState, useEffect } from 'react';
import { AlertCircle, CheckCircle, Info, Database, Server, Users, ShoppingCart, Star, Package } from 'lucide-react';

const CampusFoodHubBackend = () => {
  const [activeTab, setActiveTab] = useState('overview');
  const [systemStatus, setSystemStatus] = useState({
    database: 'connected',
    server: 'running',
    apiEndpoints: 24,
    activeUsers: 0,
    totalOrders: 0,
    vendors: 0
  });

  // Simulated real-time updates
  useEffect(() => {
    const interval = setInterval(() => {
      setSystemStatus(prev => ({
        ...prev,
        activeUsers: Math.floor(Math.random() * 50) + 10,
        totalOrders: prev.totalOrders + Math.floor(Math.random() * 3)
      }));
    }, 5000);
    return () => clearInterval(interval);
  }, []);

  const DatabaseSchema = () => (
    <div className="space-y-6">
      <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200">
        <h3 className="text-xl font-bold text-purple-900 mb-4 flex items-center gap-2">
          <Database className="w-6 h-6" />
          Database Schema Design
        </h3>
        
        <div className="grid md:grid-cols-2 gap-4">
          {/* Users Table */}
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ‘¥ Users Table</h4>
            <div className="space-y-2 text-sm">
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">id</span>
                <span className="text-gray-600">UUID (PK)</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">email</span>
                <span className="text-gray-600">VARCHAR UNIQUE</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">username</span>
                <span className="text-gray-600">VARCHAR UNIQUE</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">password_hash</span>
                <span className="text-gray-600">VARCHAR</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">full_name</span>
                <span className="text-gray-600">VARCHAR</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">role</span>
                <span className="text-gray-600">ENUM</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">created_at</span>
                <span className="text-gray-600">TIMESTAMP</span>
              </div>
              <div className="flex justify-between">
                <span className="font-mono text-purple-700">last_login</span>
                <span className="text-gray-600">TIMESTAMP</span>
              </div>
            </div>
          </div>

          {/* Vendors Table */}
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ• Vendors Table</h4>
            <div className="space-y-2 text-sm">
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">id</span>
                <span className="text-gray-600">UUID (PK)</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">user_id</span>
                <span className="text-gray-600">UUID (FK)</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">business_name</span>
                <span className="text-gray-600">VARCHAR</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">contact_number</span>
                <span className="text-gray-600">VARCHAR</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">location</span>
                <span className="text-gray-600">VARCHAR</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">rating</span>
                <span className="text-gray-600">DECIMAL</span>
              </div>
              <div className="flex justify-between">
                <span className="font-mono text-purple-700">is_active</span>
                <span className="text-gray-600">BOOLEAN</span>
              </div>
            </div>
          </div>

          {/* Menu Items Table */}
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ” Menu Items Table</h4>
            <div className="space-y-2 text-sm">
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">id</span>
                <span className="text-gray-600">UUID (PK)</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">vendor_id</span>
                <span className="text-gray-600">UUID (FK)</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">name</span>
                <span className="text-gray-600">VARCHAR</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">description</span>
                <span className="text-gray-600">TEXT</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">price</span>
                <span className="text-gray-600">DECIMAL</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">category</span>
                <span className="text-gray-600">VARCHAR</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">image_url</span>
                <span className="text-gray-600">VARCHAR</span>
              </div>
              <div className="flex justify-between">
                <span className="font-mono text-purple-700">is_available</span>
                <span className="text-gray-600">BOOLEAN</span>
              </div>
            </div>
          </div>

          {/* Orders Table */}
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ“¦ Orders Table</h4>
            <div className="space-y-2 text-sm">
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">id</span>
                <span className="text-gray-600">UUID (PK)</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">student_id</span>
                <span className="text-gray-600">UUID (FK)</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">vendor_id</span>
                <span className="text-gray-600">UUID (FK)</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">total_amount</span>
                <span className="text-gray-600">DECIMAL</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">status</span>
                <span className="text-gray-600">ENUM</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">delivery_address</span>
                <span className="text-gray-600">TEXT</span>
              </div>
              <div className="flex justify-between">
                <span className="font-mono text-purple-700">created_at</span>
                <span className="text-gray-600">TIMESTAMP</span>
              </div>
            </div>
          </div>

          {/* Order Items Table */}
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ›’ Order Items Table</h4>
            <div className="space-y-2 text-sm">
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">id</span>
                <span className="text-gray-600">UUID (PK)</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">order_id</span>
                <span className="text-gray-600">UUID (FK)</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">menu_item_id</span>
                <span className="text-gray-600">UUID (FK)</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">quantity</span>
                <span className="text-gray-600">INTEGER</span>
              </div>
              <div className="flex justify-between">
                <span className="font-mono text-purple-700">price_at_order</span>
                <span className="text-gray-600">DECIMAL</span>
              </div>
            </div>
          </div>

          {/* Reviews Table */}
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">â­ Reviews Table</h4>
            <div className="space-y-2 text-sm">
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">id</span>
                <span className="text-gray-600">UUID (PK)</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">order_id</span>
                <span className="text-gray-600">UUID (FK)</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">student_id</span>
                <span className="text-gray-600">UUID (FK)</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">vendor_id</span>
                <span className="text-gray-600">UUID (FK)</span>
              </div>
              <div className="flex justify-between border-b pb-1">
                <span className="font-mono text-purple-700">rating</span>
                <span className="text-gray-600">INTEGER</span>
              </div>
              <div className="flex justify-between">
                <span className="font-mono text-purple-700">comment</span>
                <span className="text-gray-600">TEXT</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );

  const APIEndpoints = () => (
    <div className="space-y-6">
      <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200">
        <h3 className="text-xl font-bold text-purple-900 mb-4 flex items-center gap-2">
          <Server className="w-6 h-6" />
          REST API Endpoints
        </h3>

        <div className="space-y-4">
          {/* Authentication APIs */}
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ” Authentication APIs</h4>
            <div className="space-y-2 text-sm font-mono">
              <div className="flex items-center gap-2 p-2 bg-green-50 rounded">
                <span className="px-2 py-1 bg-green-500 text-white rounded text-xs font-bold">POST</span>
                <span>/api/auth/register</span>
              </div>
              <div className="flex items-center gap-2 p-2 bg-green-50 rounded">
                <span className="px-2 py-1 bg-green-500 text-white rounded text-xs font-bold">POST</span>
                <span>/api/auth/login</span>
              </div>
              <div className="flex items-center gap-2 p-2 bg-green-50 rounded">
                <span className="px-2 py-1 bg-green-500 text-white rounded text-xs font-bold">POST</span>
                <span>/api/auth/logout</span>
              </div>
              <div className="flex items-center gap-2 p-2 bg-blue-50 rounded">
                <span className="px-2 py-1 bg-blue-500 text-white rounded text-xs font-bold">GET</span>
                <span>/api/auth/me</span>
              </div>
            </div>
          </div>

          {/* Student APIs */}
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ‘¨â€ğŸ“ Student APIs</h4>
            <div className="space-y-2 text-sm font-mono">
              <div className="flex items-center gap-2 p-2 bg-blue-50 rounded">
                <span className="px-2 py-1 bg-blue-500 text-white rounded text-xs font-bold">GET</span>
                <span>/api/menu/search?q=pizza</span>
              </div>
              <div className="flex items-center gap-2 p-2 bg-blue-50 rounded">
                <span className="px-2 py-1 bg-blue-500 text-white rounded text-xs font-bold">GET</span>
                <span>/api/vendors/:id/menu</span>
              </div>
              <div className="flex items-center gap-2 p-2 bg-green-50 rounded">
                <span className="px-2 py-1 bg-green-500 text-white rounded text-xs font-bold">POST</span>
                <span>/api/orders/create</span>
              </div>
              <div className="flex items-center gap-2 p-2 bg-blue-50 rounded">
                <span className="px-2 py-1 bg-blue-500 text-white rounded text-xs font-bold">GET</span>
                <span>/api/orders/my-orders</span>
              </div>
              <div className="flex items-center gap-2 p-2 bg-green-50 rounded">
                <span className="px-2 py-1 bg-green-500 text-white rounded text-xs font-bold">POST</span>
                <span>/api/reviews/submit</span>
              </div>
            </div>
          </div>

          {/* Vendor APIs */}
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ• Vendor APIs</h4>
            <div className="space-y-2 text-sm font-mono">
              <div className="flex items-center gap-2 p-2 bg-green-50 rounded">
                <span className="px-2 py-1 bg-green-500 text-white rounded text-xs font-bold">POST</span>
                <span>/api/vendor/menu/add</span>
              </div>
              <div className="flex items-center gap-2 p-2 bg-yellow-50 rounded">
                <span className="px-2 py-1 bg-yellow-500 text-white rounded text-xs font-bold">PUT</span>
                <span>/api/vendor/menu/:id/update</span>
              </div>
              <div className="flex items-center gap-2 p-2 bg-red-50 rounded">
                <span className="px-2 py-1 bg-red-500 text-white rounded text-xs font-bold">DELETE</span>
                <span>/api/vendor/menu/:id/delete</span>
              </div>
              <div className="flex items-center gap-2 p-2 bg-blue-50 rounded">
                <span className="px-2 py-1 bg-blue-500 text-white rounded text-xs font-bold">GET</span>
                <span>/api/vendor/orders/pending</span>
              </div>
              <div className="flex items-center gap-2 p-2 bg-yellow-50 rounded">
                <span className="px-2 py-1 bg-yellow-500 text-white rounded text-xs font-bold">PUT</span>
                <span>/api/vendor/orders/:id/status</span>
              </div>
            </div>
          </div>

          {/* Admin APIs */}
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ‘¨â€ğŸ’¼ Admin APIs</h4>
            <div className="space-y-2 text-sm font-mono">
              <div className="flex items-center gap-2 p-2 bg-blue-50 rounded">
                <span className="px-2 py-1 bg-blue-500 text-white rounded text-xs font-bold">GET</span>
                <span>/api/admin/users</span>
              </div>
              <div className="flex items-center gap-2 p-2 bg-blue-50 rounded">
                <span className="px-2 py-1 bg-blue-500 text-white rounded text-xs font-bold">GET</span>
                <span>/api/admin/analytics</span>
              </div>
              <div className="flex items-center gap-2 p-2 bg-yellow-50 rounded">
                <span className="px-2 py-1 bg-yellow-500 text-white rounded text-xs font-bold">PUT</span>
                <span>/api/admin/vendors/:id/verify</span>
              </div>
              <div className="flex items-center gap-2 p-2 bg-red-50 rounded">
                <span className="px-2 py-1 bg-red-500 text-white rounded text-xs font-bold">DELETE</span>
                <span>/api/admin/users/:id/ban</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );

  const TechStack = () => (
    <div className="space-y-6">
      <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200">
        <h3 className="text-xl font-bold text-purple-900 mb-4">ğŸš€ Technology Stack</h3>
        
        <div className="grid md:grid-cols-2 gap-4">
          {/* Frontend */}
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ’» Frontend</h4>
            <ul className="space-y-2 text-sm">
              <li className="flex items-center gap-2">
                <CheckCircle className="w-4 h-4 text-green-500" />
                <span>HTML5, CSS3, JavaScript (ES6+)</span>
              </li>
              <li className="flex items-center gap-2">
                <CheckCircle className="w-4 h-4 text-green-500" />
                <span>Tailwind CSS for styling</span>
              </li>
              <li className="flex items-center gap-2">
                <CheckCircle className="w-4 h-4 text-green-500" />
                <span>Responsive design (mobile-first)</span>
              </li>
              <li className="flex items-center gap-2">
                <CheckCircle className="w-4 h-4 text-green-500" />
                <span>Progressive Web App (PWA)</span>
              </li>
            </ul>
          </div>

          {/* Backend */}
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">âš™ï¸ Backend</h4>
            <ul className="space-y-2 text-sm">
              <li className="flex items-center gap-2">
                <CheckCircle className="w-4 h-4 text-green-500" />
                <span>Node.js with Express.js</span>
              </li>
              <li className="flex items-center gap-2">
                <CheckCircle className="w-4 h-4 text-green-500" />
                <span>RESTful API architecture</span>
              </li>
              <li className="flex items-center gap-2">
                <CheckCircle className="w-4 h-4 text-green-500" />
                <span>JWT authentication</span>
              </li>
              <li className="flex items-center gap-2">
                <CheckCircle className="w-4 h-4 text-green-500" />
                <span>bcrypt password hashing</span>
              </li>
            </ul>
          </div>

          {/* Database */}
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ—„ï¸ Database</h4>
            <ul className="space-y-2 text-sm">
              <li className="flex items-center gap-2">
                <CheckCircle className="w-4 h-4 text-green-500" />
                <span>PostgreSQL (primary database)</span>
              </li>
              <li className="flex items-center gap-2">
                <CheckCircle className="w-4 h-4 text-green-500" />
                <span>Redis (caching & sessions)</span>
              </li>
              <li className="flex items-center gap-2">
                <CheckCircle className="w-4 h-4 text-green-500" />
                <span>Prisma ORM</span>
              </li>
              <li className="flex items-center gap-2">
                <CheckCircle className="w-4 h-4 text-green-500" />
                <span>Database migrations</span>
              </li>
            </ul>
          </div>

          {/* DevOps */}
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ› ï¸ DevOps & Hosting</h4>
            <ul className="space-y-2 text-sm">
              <li className="flex items-center gap-2">
                <CheckCircle className="w-4 h-4 text-green-500" />
                <span>Docker containerization</span>
              </li>
              <li className="flex items-center gap-2">
                <CheckCircle className="w-4 h-4 text-green-500" />
                <span>AWS / Vercel deployment</span>
              </li>
              <li className="flex items-center gap-2">
                <CheckCircle className="w-4 h-4 text-green-500" />
                <span>CI/CD with GitHub Actions</span>
              </li>
              <li className="flex items-center gap-2">
                <CheckCircle className="w-4 h-4 text-green-500" />
                <span>CloudFlare CDN</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  );

  const Features = () => (
    <div className="space-y-6">
      <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200">
        <h3 className="text-xl font-bold text-purple-900 mb-4">âœ¨ Advanced Features</h3>
        
        <div className="grid md:grid-cols-2 gap-4">
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ”’ Security Features</h4>
            <ul className="space-y-2 text-sm">
              <li>â€¢ JWT-based authentication</li>
              <li>â€¢ bcrypt password encryption</li>
              <li>â€¢ Role-based access control (RBAC)</li>
              <li>â€¢ SQL injection prevention</li>
              <li>â€¢ XSS protection</li>
              <li>â€¢ Rate limiting</li>
              <li>â€¢ HTTPS encryption</li>
            </ul>
          </div>

          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ“± Real-Time Features</h4>
            <ul className="space-y-2 text-sm">
              <li>â€¢ WebSocket connections</li>
              <li>â€¢ Live order status updates</li>
              <li>â€¢ Real-time notifications</li>
              <li>â€¢ Live vendor availability</li>
              <li>â€¢ Push notifications (PWA)</li>
              <li>â€¢ Chat support system</li>
            </ul>
          </div>

          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ’³ Payment Integration</h4>
            <ul className="space-y-2 text-sm">
              <li>â€¢ Razorpay integration</li>
              <li>â€¢ UPI payments</li>
              <li>â€¢ Card payments</li>
              <li>â€¢ Net banking</li>
              <li>â€¢ Cash on delivery</li>
              <li>â€¢ Digital wallet support</li>
              <li>â€¢ Payment history tracking</li>
            </ul>
          </div>

          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ“Š Analytics & Insights</h4>
            <ul className="space-y-2 text-sm">
              <li>â€¢ Order analytics dashboard</li>
              <li>â€¢ Revenue tracking</li>
              <li>â€¢ Popular items analysis</li>
              <li>â€¢ Customer behavior insights</li>
              <li>â€¢ Vendor performance metrics</li>
              <li>â€¢ Peak hours analysis</li>
              <li>â€¢ Custom reports generation</li>
            </ul>
          </div>

          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ¨ User Experience</h4>
            <ul className="space-y-2 text-sm">
              <li>â€¢ Smooth animations</li>
              <li>â€¢ Intuitive interface</li>
              <li>â€¢ Fast page loads (&lt;2s)</li>
              <li>â€¢ Offline mode support</li>
              <li>â€¢ Voice search capability</li>
              <li>â€¢ Multi-language support</li>
              <li>â€¢ Accessibility compliant</li>
            </ul>
          </div>

          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸš€ Performance</h4>
            <ul className="space-y-2 text-sm">
              <li>â€¢ Redis caching layer</li>
              <li>â€¢ Image optimization</li>
              <li>â€¢ Lazy loading</li>
              <li>â€¢ CDN delivery</li>
              <li>â€¢ Database indexing</li>
              <li>â€¢ Query optimization</li>
              <li>â€¢ Load balancing ready</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  );

  const DeploymentGuide = () => (
    <div className="space-y-6">
      <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200">
        <h3 className="text-xl font-bold text-purple-900 mb-4">ğŸš€ Deployment Guide</h3>
        
        <div className="space-y-4">
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">Step 1: Environment Setup</h4>
            <div className="bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm overflow-x-auto">
              <pre>{`# Clone repository
git clone https://github.com/your-repo/campus-food-hub.git
cd campus-food-hub

# Install dependencies
npm install

# Create .env file
cp .env.example .env

# Add your environment variables:
DATABASE_URL="postgresql://user:password@localhost:5432/campus_food_hub"
JWT_SECRET="your-super-secret-key-change-this"
REDIS_URL="redis://localhost:6379"
RAZORPAY_KEY_ID="your-razorpay-key"
RAZORPAY_KEY_SECRET="your-razorpay-secret"
NODE_ENV="production"
PORT=3000`}</pre>
            </div>
          </div>

          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">Step 2: Database Setup</h4>
            <div className="bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm overflow-x-auto">
              <pre>{`# Run database migrations
npx prisma migrate deploy

# Seed initial data
npm run seed

# Generate Prisma client
npx prisma generate`}</pre>
            </div>
          </div>

          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">Step 3: Build & Deploy</h4>
            <div className="bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm overflow-x-auto">
              <pre>{`# Build for production
npm run build

# Start production server
npm start

# Or use PM2 for process management
pm2 start npm --name "campus-food-hub" -- start
pm2 startup
pm2 save`}</pre>
            </div>
          </div>

          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">Step 4: Docker Deployment (Recommended)</h4>
            <div className="bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm overflow-x-auto">
              <pre>{`# Build Docker image
docker build -t campus-food-hub .

# Run with Docker Compose
docker-compose up -d

# Check logs
docker-compose logs -f`}</pre>
            </div>
          </div>
        </div>
      </div>
    </div>
  );

  const BackendCode = () => (
    <div className="space-y-6">
      <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200">
        <h3 className="text-xl font-bold text-purple-900 mb-4">ğŸ’» Backend Code Structure</h3>
        
        <div className="space-y-4">
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ“ Project Structure</h4>
            <div className="bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-xs overflow-x-auto">
              <pre>{`campus-food-hub/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ authController.js
â”‚   â”‚   â”œâ”€â”€ studentController.js
â”‚   â”‚   â”œâ”€â”€ vendorController.js
â”‚   â”‚   â””â”€â”€ adminController.js
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ User.js
â”‚   â”‚   â”œâ”€â”€ Vendor.js
â”‚   â”‚   â”œâ”€â”€ MenuItem.js
â”‚   â”‚   â”œâ”€â”€ Order.js
â”‚   â”‚   â””â”€â”€ Review.js
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”œâ”€â”€ student.js
â”‚   â”‚   â”œâ”€â”€ vendor.js
â”‚   â”‚   â””â”€â”€ admin.js
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”œâ”€â”€ validation.js
â”‚   â”‚   â””â”€â”€ errorHandler.js
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ emailService.js
â”‚   â”‚   â”œâ”€â”€ paymentService.js
â”‚   â”‚   â””â”€â”€ notificationService.js
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ jwt.js
â”‚   â”‚   â”œâ”€â”€ bcrypt.js
â”‚   â”‚   â””â”€â”€ validators.js
â”‚   â””â”€â”€ app.js
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ Landing.html
â”‚   â”œâ”€â”€ Student.html
â”‚   â””â”€â”€ Vendor.html
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma
â”‚   â””â”€â”€ migrations/
â”œâ”€â”€ tests/
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ package.json
â””â”€â”€ .env.example`}</pre>
            </div>
          </div>

          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ” Authentication Controller Example</h4>
            <div className="bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-xs overflow-x-auto">
              <pre>{`// src/controllers/authController.js
const bcrypt = require('bcryptjs');
const jwt = require('jsonwebtoken');
const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

exports.register = async (req, res) => {
  try {
    const { email, username, password, fullName, role } = req.body;
    
    // Check if user exists
    const existingUser = await prisma.user.findFirst({
      where: { OR: [{ email }, { username }] }
    });
    
    if (existingUser) {
      return res.status(400).json({ 
        error: 'User already exists' 
      });
    }
    
    // Hash password
    const passwordHash = await bcrypt.hash(password, 10);
    
    // Create user
    const user = await prisma.user.create({
      data: {
        email,
        username,
        passwordHash,
        fullName,
        role: role || 'STUDENT'
      }
    });
    
    // Generate JWT
    const token = jwt.sign(
      { userId: user.id, role: user.role },
      process.env.JWT_SECRET,
      { expiresIn: '7d' }
    );
    
    res.status(201).json({
      success: true,
      token,
      user: {
        id: user.id,
        email: user.email,
        username: user.username,
        role: user.role
      }
    });
  } catch (error) {
    console.error('Registration error:', error);
    res.status(500).json({ error: 'Server error' });
  }
};

exports.login = async (req, res) => {
  try {
    const { username, password } = req.body;
    
    // Find user
    const user = await prisma.user.findUnique({
      where: { username }
    });
    
    if (!user) {
      return res.status(401).json({ 
        error: 'Invalid credentials' 
      });
    }
    
    // Verify password
    const isValid = await bcrypt.compare(
      password, 
      user.passwordHash
    );
    
    if (!isValid) {
      return res.status(401).json({ 
        error: 'Invalid credentials' 
      });
    }
    
    // Update last login
    await prisma.user.update({
      where: { id: user.id },
      data: { lastLogin: new Date() }
    });
    
    // Generate JWT
    const token = jwt.sign(
      { userId: user.id, role: user.role },
      process.env.JWT_SECRET,
      { expiresIn: '7d' }
    );
    
    res.json({
      success: true,
      token,
      user: {
        id: user.id,
        email: user.email,
        username: user.username,
        role: user.role
      }
    });
  } catch (error) {
    console.error('Login error:', error);
    res.status(500).json({ error: 'Server error' });
  }
};`}</pre>
            </div>
          </div>

          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <h4 className="font-bold text-purple-900 mb-3">ğŸ›’ Order Controller Example</h4>
            <div className="bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-xs overflow-x-auto">
              <pre>{`// src/controllers/studentController.js
exports.createOrder = async (req, res) => {
  try {
    const { items, deliveryAddress, paymentMethod } = req.body;
    const studentId = req.user.userId;
    
    // Calculate total
    let totalAmount = 0;
    const orderItems = [];
    
    for (const item of items) {
      const menuItem = await prisma.menuItem.findUnique({
        where: { id: item.menuItemId }
      });
      
      if (!menuItem || !menuItem.isAvailable) {
        return res.status(400).json({
          error: 'Item not available'
        });
      }
      
      totalAmount += menuItem.price * item.quantity;
      orderItems.push({
        menuItemId: item.menuItemId,
        quantity: item.quantity,
        priceAtOrder: menuItem.price
      });
    }
    
    // Create order
    const order = await prisma.order.create({
      data: {
        studentId,
        vendorId: items[0].vendorId,
        totalAmount,
        status: 'PENDING',
        deliveryAddress,
        paymentMethod,
        orderItems: {
          create: orderItems
        }
      },
      include: {
        orderItems: {
          include: {
            menuItem: true
          }
        }
      }
    });
    
    // Send notification to vendor
    await notificationService.notifyVendor(
      items[0].vendorId,
      'New Order Received',
      \`Order #\${order.id} - â‚¹\${totalAmount}\`
    );
    
    res.status(201).json({
      success: true,
      order
    });
  } catch (error) {
    console.error('Order creation error:', error);
    res.status(500).json({ error: 'Server error' });
  }
};`}</pre>
            </div>
          </div>
        </div>
      </div>
    </div>
  );

  const Overview = () => (
    <div className="space-y-6">
      <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200">
        <h3 className="text-xl font-bold text-purple-900 mb-4">ğŸ¯ System Overview</h3>
        
        <div className="grid md:grid-cols-3 gap-4 mb-6">
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <div className="flex items-center gap-3 mb-2">
              <Database className="w-8 h-8 text-purple-600" />
              <div>
                <p className="text-xs text-purple-600">Database Status</p>
                <p className="text-lg font-bold text-purple-900">
                  {systemStatus.database === 'connected' ? 'âœ… Connected' : 'âŒ Disconnected'}
                </p>
              </div>
            </div>
          </div>

          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <div className="flex items-center gap-3 mb-2">
              <Server className="w-8 h-8 text-purple-600" />
              <div>
                <p className="text-xs text-purple-600">Server Status</p>
                <p className="text-lg font-bold text-purple-900">
                  {systemStatus.server === 'running' ? 'ğŸŸ¢ Running' : 'ğŸ”´ Stopped'}
                </p>
              </div>
            </div>
          </div>

          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <div className="flex items-center gap-3 mb-2">
              <Users className="w-8 h-8 text-purple-600" />
              <div>
                <p className="text-xs text-purple-600">Active Users</p>
                <p className="text-lg font-bold text-purple-900">{systemStatus.activeUsers}</p>
              </div>
            </div>
          </div>
        </div>

        <div className="grid md:grid-cols-3 gap-4">
          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <div className="flex items-center gap-3 mb-2">
              <ShoppingCart className="w-8 h-8 text-green-600" />
              <div>
                <p className="text-xs text-purple-600">Total Orders</p>
                <p className="text-lg font-bold text-purple-900">{systemStatus.totalOrders}</p>
              </div>
            </div>
          </div>

          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <div className="flex items-center gap-3 mb-2">
              <Package className="w-8 h-8 text-blue-600" />
              <div>
                <p className="text-xs text-purple-600">API Endpoints</p>
                <p className="text-lg font-bold text-purple-900">{systemStatus.apiEndpoints}</p>
              </div>
            </div>
          </div>

          <div className="bg-white rounded-lg p-4 shadow-sm border border-purple-200">
            <div className="flex items-center gap-3 mb-2">
              <Star className="w-8 h-8 text-yellow-600" />
              <div>
                <p className="text-xs text-purple-600">Active Vendors</p>
                <p className="text-lg font-bold text-purple-900">{systemStatus.vendors}</p>
              </div>
            </div>
          </div>
        </div>

        <div className="mt-6 bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
          <div className="flex items-start gap-3">
            <Info className="w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5" />
            <div>
              <p className="font-bold text-blue-900 mb-2">Complete Full-Stack Solution</p>
              <p className="text-sm text-blue-800">
                This comprehensive system includes a robust backend with PostgreSQL database, 
                RESTful APIs, JWT authentication, real-time notifications, payment integration, 
                and production-ready deployment configurations. All three frontend pages are 
                fully connected to the backend for seamless operation.
              </p>
            </div>
          </div>
        </div>
      </div>

      <div className="bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border-2 border-green-200">
        <h3 className="text-xl font-bold text-green-900 mb-4">ğŸŠ Business-Ready Features</h3>
        <div className="grid md:grid-cols-2 gap-4">
          <div className="space-y-2">
            <div className="flex items-center gap-2">
              <CheckCircle className="w-5 h-5 text-green-600" />
              <span className="text-sm font-medium">Multi-vendor marketplace</span>
            </div>
            <div className="flex items-center gap-2">
              <CheckCircle className="w-5 h-5 text-green-600" />
              <span className="text-sm font-medium">Real-time order tracking</span>
            </div>
            <div className="flex items-center gap-2">
              <CheckCircle className="w-5 h-5 text-green-600" />
              <span className="text-sm font-medium">Integrated payment gateway</span>
            </div>
            <div className="flex items-center gap-2">
              <CheckCircle className="w-5 h-5 text-green-600" />
              <span className="text-sm font-medium">Review & rating system</span>
            </div>
          </div>
          <div className="space-y-2">
            <div className="flex items-center gap-2">
              <CheckCircle className="w-5 h-5 text-green-600" />
              <span className="text-sm font-medium">Advanced analytics dashboard</span>
            </div>
            <div className="flex items-center gap-2">
              <CheckCircle className="w-5 h-5 text-green-600" />
              <span className="text-sm font-medium">Mobile-responsive design</span>
            </div>
            <div className="flex items-center gap-2">
              <CheckCircle className="w-5 h-5 text-green-600" />
              <span className="text-sm font-medium">SEO optimized</span>
            </div>
            <div className="flex items-center gap-2">
              <CheckCircle className="w-5 h-5 text-green-600" />
              <span className="text-sm font-medium">Scalable architecture</span>
            </div>
          </div>
        </div>
      </div>
    </div>